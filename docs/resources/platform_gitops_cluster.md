---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "harness_platform_gitops_cluster Resource - terraform-provider-harness"
subcategory: ""
description: |-
  Resource for creating a Harness Gitops Cluster.
---

# harness_platform_gitops_cluster (Resource)

Resource for creating a Harness Gitops Cluster.

## Example Usage

```terraform
resource "harness_platform_gitops_cluster" "example" {
  identifier = "identifier"
  account_id = "account_id"
  project_id = "project_id"
  org_id     = "org_id"
  agent_id   = "agent_id"

  request {
    upsert = false
    cluster {
      server = "https://kubernetes.default.svc"
      name   = "name"
      config {
        tls_client_config {
          insecure = true
        }
        cluster_connection_type = "IN_CLUSTER"
      }

    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_id` (String) account identifier of the cluster.
- `identifier` (String) identifier of the cluster.
- `project_id` (String) project identifier of the cluster.

### Optional

- `agent_id` (String) agent identifier of the cluster.
- `org_id` (String) organization identifier of the cluster.
- `query` (Block List) query for cluster resources (see [below for nested schema](#nestedblock--query))
- `request` (Block List) Cluster create/Update request. (see [below for nested schema](#nestedblock--request))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--query"></a>
### Nested Schema for `query`

Optional:

- `id` (Block List) cluster server URL or cluster name (see [below for nested schema](#nestedblock--query--id))
- `name` (String) name of the cluster
- `server` (String) server of the cluster

<a id="nestedblock--query--id"></a>
### Nested Schema for `query.id`

Optional:

- `type` (String) the type of the specified cluster identifier ( 'server' - default, 'name' )
- `value` (String) the cluster server URL or cluster name



<a id="nestedblock--request"></a>
### Nested Schema for `request`

Optional:

- `cluster` (Block List) cluster details. (see [below for nested schema](#nestedblock--request--cluster))
- `id` (Block List) cluster server URL or cluster name (see [below for nested schema](#nestedblock--request--id))
- `update_mask` (Block List) Update mask of the cluster. (see [below for nested schema](#nestedblock--request--update_mask))
- `upsert` (Boolean) if the cluster should be upserted.

<a id="nestedblock--request--cluster"></a>
### Nested Schema for `request.cluster`

Required:

- `server` (String) the API server URL of the Kubernetes cluster.

Optional:

- `annotations` (Map of String) Annotations for cluster secret metadata
- `cluster_resources` (Boolean) Indicates if cluster level resources should be managed. This setting is used only if cluster is connected in a namespaced mode.
- `config` (Block List) Cluster Config (see [below for nested schema](#nestedblock--request--cluster--config))
- `labels` (Map of String) Labels for cluster secret metadata
- `name` (String) Name of the cluster. If omitted, will use the server address
- `namespaces` (List of String) list of namespaces which are accessible in that cluster. Cluster level resources will be ignored if namespace list is not empty.
- `refresh_requested_at` (Block List) time when cluster cache refresh has been requested. (see [below for nested schema](#nestedblock--request--cluster--refresh_requested_at))
- `shard` (String) optional shard number. Calculated on the fly by the application controller if not specified.

Read-Only:

- `info` (List of Object) information about cluster cache and state (see [below for nested schema](#nestedatt--request--cluster--info))
- `project` (String) Reference between project and cluster that allow you automatically to be added as item inside Destinations project entity

<a id="nestedblock--request--cluster--config"></a>
### Nested Schema for `request.cluster.config`

Optional:

- `aws_auth_config` (Block List) contains IAM authentication configuration (see [below for nested schema](#nestedblock--request--cluster--config--aws_auth_config))
- `bearer_token` (String) Bearer authentication token the cluster.
- `cluster_connection_type` (String) Identifies the authentication method used to connect to the cluster.
- `exec_provider_config` (Block List) contains configuration for an exec provider (see [below for nested schema](#nestedblock--request--cluster--config--exec_provider_config))
- `password` (String) password for the server of the cluster.
- `tls_client_config` (Block List) contains settings to enable transport layer security (see [below for nested schema](#nestedblock--request--cluster--config--tls_client_config))
- `username` (String) username for the server of the cluster.

<a id="nestedblock--request--cluster--config--aws_auth_config"></a>
### Nested Schema for `request.cluster.config.aws_auth_config`

Optional:

- `cluster_name` (String) contains AWS cluster name.
- `role_a_r_n` (String) contains optional role ARN. If set then AWS IAM Authenticator.


<a id="nestedblock--request--cluster--config--exec_provider_config"></a>
### Nested Schema for `request.cluster.config.exec_provider_config`

Optional:

- `api_version` (String) Preferred input version of the ExecInfo.
- `args` (List of String) Arguments to pass to the command when executing it.
- `command` (String) command to execute.
- `env` (Map of String) additional environment variables to expose to the process.
- `install_hint` (String) This text is shown to the user when the executable doesn't seem to be present


<a id="nestedblock--request--cluster--config--tls_client_config"></a>
### Nested Schema for `request.cluster.config.tls_client_config`

Optional:

- `ca_data` (String) holds PEM-encoded bytes (typically read from a root certificates bundle).
- `cert_data` (String) certficate data holds PEM-encoded bytes (typically read from a client certificate file).
- `insecure` (Boolean) if the TLS connection to the cluster should be insecure.
- `key_data` (String) key data holds PEM-encoded bytes (typically read from a client certificate key file).
- `server_name` (String) server name for SNI in the client to check server certificates against



<a id="nestedblock--request--cluster--refresh_requested_at"></a>
### Nested Schema for `request.cluster.refresh_requested_at`

Optional:

- `nanos` (Number) Non-negative fractions of a second at nanosecond resolution. Negative second values with fractions must still have non-negative nanos values that count forward in time. Must be from 0 to 999,999,999 inclusive. This field may be limited in precision depending on context.
- `seconds` (String) Represents seconds of UTC time since Unix epoch 1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.


<a id="nestedatt--request--cluster--info"></a>
### Nested Schema for `request.cluster.info`

Read-Only:

- `api_versions` (List of String)
- `applications_count` (String)
- `cache_info` (List of Object) (see [below for nested schema](#nestedobjatt--request--cluster--info--cache_info))
- `connection_state` (List of Object) (see [below for nested schema](#nestedobjatt--request--cluster--info--connection_state))
- `server_version` (String)

<a id="nestedobjatt--request--cluster--info--cache_info"></a>
### Nested Schema for `request.cluster.info.cache_info`

Read-Only:

- `apis_count` (String)
- `last_cache_sync_time` (String)
- `resources_count` (String)


<a id="nestedobjatt--request--cluster--info--connection_state"></a>
### Nested Schema for `request.cluster.info.connection_state`

Read-Only:

- `attempted_at` (List of Object) (see [below for nested schema](#nestedobjatt--request--cluster--info--connection_state--attempted_at))
- `message` (String)
- `status` (String)

<a id="nestedobjatt--request--cluster--info--connection_state--attempted_at"></a>
### Nested Schema for `request.cluster.info.connection_state.status`

Read-Only:

- `nanos` (Number)
- `seconds` (String)





<a id="nestedblock--request--id"></a>
### Nested Schema for `request.id`

Optional:

- `type` (String) the type of the specified cluster identifier ( 'server' - default, 'name' )
- `value` (String) the cluster server URL or cluster name


<a id="nestedblock--request--update_mask"></a>
### Nested Schema for `request.update_mask`

Optional:

- `paths` (List of List of String) The set of field mask paths.

## Import

Import is supported using the following syntax:

```shell
# Import using Gitops Cluster id
terraform import harness_platform_gitops_cluster.example <cluster_id>
```
